# Fluent UI Blazor forms overview

A lot of the components in this library are specifically made to get input from users by means of forms. These components almost all derive from `FluentInputBase<TValue>`, our generic abstract base class for input handling components. Let's first dive a bit deeper into this base component and its derivates.

> **Note**: When using the input components in SSR mode, be sure to assign a value to the `Name` property otherwise the enhanced form functionality will not work. In contrast to the standard Blazor input components, a name is not automatically being generated. Also, the `Name` needs to be prefixed with the model name (i.e. `Model.Username`).

## Input components and forms

### FluentInputBase<TValue>

`FluentInputBase<TValue>` is a generic class making it possible for this base class to handle different types of data. It is also an abstract class so you can not create or use a `FluentInputBase<TValue>` on a page or in another component. Because it is a base class, it exposes the parameters, event callbacks and methods below in every derived component.

These parameters are also shown in the component overviews in the rest of the documentation pages.

#### Parameters

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| **AriaLabel** | `string?` | `null` | Gets or sets the text used on the `aria-label` attribute. |
| **AutoFocus** | `bool` | `false` | Determines if the element should receive document focus on page load. |
| **ReadOnly** | `bool` | `false` | When true, the control will be immutable by user interaction. See `readonly` HTML attribute for more information. |
| **Id** | `string?` | `null` | Gets or sets the `id` attribute of the element. Used for label association. |
| **Disabled** | `bool` | `false` | Disables the form control, ensuring it doesn't participate in form submission. |
| **Name** | `string?` | `null` | Gets or sets the `name` of the element. Allows access by name from the associated form. ⚠️ This value needs to be set manually for SSR scenarios to work correctly. |
| **Required** | `bool` | `false` | Gets or sets whether the element needs to have a value. |
| **Value** | `TValue?` | `null` | Gets or sets the value of the input. This should be used with two-way binding. |
| **DisplayName** | `string?` | `null` | Gets or sets the display name for this field. |
| **ValueExpression**| `Expression<Func<TValue>>?` | `null` | Gets or sets an expression that identifies the bound value. |
| **Placeholder** | `string?` | `null` | Gets or sets the short hint displayed in the input before the user enters a value. |
| **Label** | `string?` | `null` | Gets or sets the text displayed just above or in front of the component. |
| **LabelTemplate** | `RenderFragment?` | `null` | Gets or sets the render fragment displayed just above or in front of the component. |

#### EventCallbacks

| EventCallback | Type | Description |
| --- | --- | --- |
| **ValueChanged** | `EventCallback<TValue>` | Gets or sets a callback that updates the bound value. |

#### Methods

| Method | Description |
| --- | --- |
| **FocusAsync()** | Exposes the element's `FocusAsync()` method. |
| **FocusAsync(bool preventScroll)** | Exposes the element's `FocusAsync(bool preventScroll)` method. |

### Derived components

The list below sums up the derived components and the way they use the `FluentInputBase` base class. Every derived component has its own specific parameters, event callbacks and methods. These are documented on the component pages.

*   **FluentCheckbox** : `FluentInputBase<bool>`
*   **FluentNumberField<TValue>** : `FluentInputBase<TValue>`
*   **FluentRadioGroup** : `FluentInputBase<string?>`
*   **FluentSearch** : `FluentInputBase<string?>`
*   **FluentSlider** : `FluentInputBase<TValue>`
*   **FluentSwitch** : `FluentInputBase<bool>`
*   **FluentTextArea** : `FluentInputBase<string?>`
*   **FluentTextField** : `FluentInputBase<string?>`
*   **FluentTimePicker** : `FluentInputBase<DateTime?>`

### Label and LabelTemplate

Every derived component supports the `Label` parameter. The contents of this parameter is of type `string` and cannot contain any markup. The value will be used to create a `<label>` HTML element for the input component. It is usually displayed just above the input field. For a checkbox it is displayed after the input field; for a switch it is displayed in front of it.

If you would like to apply more complex markup for the label, you can use the `LabelTemplate` parameter. As this has a type of `RenderFragment?`, it can contain virtually anything.

When neither `Label` nor `LabelTemplate` parameters are set, you can create your own `<label>` HTML elements.

### Binding

The Fluent UI input components all support binding, just like the standard Blazor input components do. See the [documentation on the Learn site](https://docs.microsoft.com/aspnet/core/blazor/forms-and-input-components#binding) for more information.

### Validation

The Fluent UI input components work with validation in the same way the standard Blazor input components do. We provide 2 extra components to make it possible to show validation messages which follow the Fluent Design guidelines:

*   `FluentValidationSummary`
*   `FluentValidationMessage`

See the [documentation on the Learn site](https://docs.microsoft.com/aspnet/core/blazor/forms-and-input-components#validation) for more information on the standard components. As the Fluent UI Razor components are based on the standard components, the same documentation applies.

### Layout

In principle a label is shown right above the actual input field. You can use 3 ways to lay out your forms:

*   Use the `FluentStack` component
*   Use the `FluentGrid` and `FluentGridItem` components
*   Use your own HTML elements and CSS classes

### FluentEditForm

The `FluentEditForm` inherits from the standard `EditForm`. The only thing it does is that it adds a cascading parameter that contains a `FluentWizardStep` we use to register a form inside a `FluentWizard`.

If you are not using a `FluentWizard` in your form, there is no need/use to use the `FluentEditForm`.

## Example

### Basic Fluent UI form

This is an example from the standard Blazor input components documentation implemented with the Fluent UI Blazor input components. It uses the `FluentValidationSummary` and `FluentValidationMessage` to give feedback on the state of the form. It uses the same `Starship` model as the standard docs and a `DataAnnotationsValidator` to use the data annotations set in the model. Not all of the library's input components are used in this form. No data is actually being stored or saved.

#### Razor

```razor
@page "/basicform-fluentui-components"
@inject DataSource Data

<PageTitle>@App.PageTitle("Basic Form FluentUI")</PageTitle>

<h1>Starfleet Starship Database</h1>
<p>
    This form uses the Fluent UI input components. It uses a <code>DataAnnotationsValidator</code>, a <code>FluentValidationSummary</code>
    and <code>FluentValidationMessage</code>s.
</p>

<h2>New Ship Entry Form</h2>

<EditForm Model="@starship" OnValidSubmit="@HandleValidSubmit" FormName="starship_fluent_entry" novalidate>
    <DataAnnotationsValidator />
    <FluentValidationSummary />

    <FluentStack Orientation="Orientation.Vertical">
        <div>
            <FluentTextField Name="identifier" @bind-Value="starship.Identifier" Label="Identifier" Required />
            <FluentValidationMessage For="@(() => starship.Identifier)" />
        </div>
        <div>
            <FluentTextArea Name="description" Rows=5 Cols=60 @bind-Value="starship.Description" Label="Description (optional)" Required />
            <FluentValidationMessage For="@(() => starship.Description)" />
        </div>
        <div>
            <FluentAutocomplete TOption="Country"
                                Name="countries"
                                AutoComplete="off"
                                Required
                                Label="Select countries"
                                Width="250px"
                                Placeholder="Select countries"
                                OnOptionsSearch="@OnSearchAsync"
                                MaximumSelectedOptions="3"
                                OptionText="@(item => item.Name)"
                                Multiple="true"
                                @bind-SelectedOptions="@starship.Countries" />
            <FluentValidationMessage For="@(() => starship.Countries)" />
        </div>
        <div>
            <FluentSelect Name="class" Id="classification" @bind-Value="starship.Classification" TOption="string" Required Label="Primary Classification">
                <FluentOption Value="">Select classification ...</FluentOption>
                <FluentOption Value="Exploration">Exploration</FluentOption>
                <FluentOption Value="Diplomacy">Diplomacy</FluentOption>
                <FluentOption Value="Defense">Defense</FluentOption>
            </FluentSelect>
            <FluentValidationMessage For="@(() => starship.Classification)" />
        </div>
        <div>
            <FluentNumberField Name="accomodation" @bind-Value="starship.MaximumAccommodation" Label="Maximum Accommodation" Required />
            <FluentValidationMessage For="@(() => starship.MaximumAccommodation)" />
        </div>
        <div>
            <FluentCheckbox Name="approved" @bind-Value="starship.IsValidatedDesign" Required Label="Engineering approval" />
            <FluentValidationMessage For="@(() => starship.IsValidatedDesign)" />
        </div>
        <div>
            <FluentDatePicker Name="production_date" Id="proddate" @bind-Value="starship.ProductionDate" Label="Production Date" Required />
            <FluentValidationMessage For="@(() => starship.ProductionDate)" />
        </div>
        <div>
            <FluentSwitch Name="teleporter" @bind-value="starship.HasTeleporter" Label="Teleporter" CheckedMessage="Fully operational" UncheckedMessage="Under maintenance"/>
            <FluentValidationMessage For="@(() => starship.HasTeleporter)" />
        </div>
        <FluentButton Type="ButtonType.Submit" Appearance="Appearance.Accent">Submit</FluentButton>
    </FluentStack>
</EditForm>

<div style="margin-top: 3rem;"><a href="http://www.startrek.com/">Star Trek</a>, ©1966-2023 CBS Studios, Inc. and <a href="https://www.paramount.com">Paramount Pictures</a></div>

@code {
    protected override void OnInitialized()
    {
        starship.ProductionDate = DateTime.Now;
    }

    IEnumerable<Country> SelectedItems = Array.Empty<Country>();

    private async Task OnSearchAsync(OptionsSearchEventArgs<Country> e)
    {
        var allCountries = await Data.GetCountriesAsync();
        e.Items = allCountries.Where(i => i.Name.StartsWith(e.Text, StringComparison.OrdinalIgnoreCase))
                              .OrderBy(i => i.Name);
    }

    [SupplyParameterFromForm]
    private Starship starship { get; set; } = new();

    private void HandleValidSubmit()
    {
        DemoLogger.WriteLine("HandleValidSubmit called");
        // Process the valid form
    }
}
```

#### Starship.cs

```csharp
// ------------------------------------------------------------------------
// This file is licensed to you under the MIT License.
// ------------------------------------------------------------------------

using System.ComponentModel.DataAnnotations;
using System.Diagnostics.CodeAnalysis;

namespace FluentUI.Demo.Shared.SampleData;

[RequiresUnreferencedCode("Necessary because of RangeAttribute usage")]
public class Starship
{
    [Required]
    [MinLength(3, ErrorMessage = "Identifier is too short")]
    [StringLength(16, ErrorMessage = "Identifier too long (16 character limit)")]
    public string? Identifier { get; set; }

    [Required(ErrorMessage = "Description is required")]
    [MinLength(10, ErrorMessage = "Description is too short")]
    public string? Description { get; set; }

    [Required(ErrorMessage = "Countries are required")]
    [MinLength(1, ErrorMessage = "Countries are required")]
    public IEnumerable<Country>? Countries { get; set; }

    [Required(ErrorMessage = "A classification is required")]
    public string? Classification { get; set; }

    [Range(1, 100000, ErrorMessage = "Accommodation invalid (1-100000)")]
    public int MaximumAccommodation { get; set; }

    [Required]
    [Range(typeof(bool), "true", "true",
        ErrorMessage = "This form disallows unapproved ships")]
    public bool IsValidatedDesign { get; set; }

    [Required]
    public DateTime? ProductionDate { get; set; }

    public bool HasTeleporter { get; set; }
}
```