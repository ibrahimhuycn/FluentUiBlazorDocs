# Date & Time

> The `FluentCalendar` and `FluentDatePicker` components are not yet fully compatible with the `EditForm` and `FluentEditForm` elements. Some functionalities, such as error messages, the requirement message or the validation messages are missing.

The `<FluentCalendar>` is an implementation of a month calendar display leveraging the Fluent UI design system. It allows for setting selected and/or disabled dates and can handle a click on a day event (if not `ReadOnly`).

The `<FluentDatePicker>` is an input field that shows a calendar dropdown to select a date.

The `<FluentTimePicker>` allows for picking a specific time of day by selecting hour, minutes and AM/PM.

> **Note:** `FluentCalendar` and `FluentDatePicker` are not yet fully compatible with accessibility.

## Examples

### Default calendar

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
    <div>
        <!-- Day view placeholder -->
        <div style="border: 1px solid var(--neutral-stroke-rest); height: 250px; padding: 0.5rem; display: flex; align-items: center; justify-content: center; border-radius: 4px;">Day View Calendar</div>
        <p>Selected null</p>
        <p>Panel 2025-08-11</p>
    </div>
    <div>
        <!-- Month view placeholder -->
        <div style="border: 1px solid var(--neutral-stroke-rest); height: 250px; padding: 0.5rem; display: flex; align-items: center; justify-content: center; border-radius: 4px;">Month View Calendar</div>
        <p>Selected null</p>
        <p>Panel 2025-08-11</p>
    </div>
    <div>
        <!-- Year view placeholder -->
        <div style="border: 1px solid var(--neutral-stroke-rest); height: 250px; padding: 0.5rem; display: flex; align-items: center; justify-content: center; border-radius: 4px;">Year View Calendar</div>
        <p>Selected null</p>
        <p>Panel 2025-08-11</p>
    </div>
</div>

```razor
<FluentGrid>
    <FluentGridItem>
        <FluentCalendar DisabledDateFunc="@DisabledDay" @bind-Value="@SelectedDay" @bind-PickerMonth="@PickerDay" Style="height: 250px;" />
        <p>Selected @(SelectedDay?.ToString("yyyy-MM-dd"))</p>
        <p>Panel @(PickerDay.ToString("yyyy-MM-dd"))</p>
    </FluentGridItem>
    <FluentGridItem>
        <FluentCalendar DisabledDateFunc="@DisableMonth" View="CalendarViews.Months" @bind-Value="@SelectedMonth" @bind-PickerMonth="@PickerMonth" Style="height: 250px;" />
        <p>Selected @(SelectedMonth?.ToString("yyyy-MM-dd"))</p>
        <p>Panel @(PickerMonth.ToString("yyyy-MM-dd"))</p>
    </FluentGridItem>
    <FluentGridItem>
        <FluentCalendar DisabledDateFunc="@DisableYear" View="CalendarViews.Years" @bind-Value="@SelectedYear" @bind-PickerMonth="@PickerYear" Style="height: 250px;" />
        <p>Selected @(SelectedYear?.ToString("yyyy-MM-dd"))</p>
        <p>Panel @(PickerYear.ToString("yyyy-MM-dd"))</p>
    </FluentGridItem>
</FluentGrid>

@code
{
    private DateTime? SelectedDay = null;
    private DateTime PickerDay = DateTime.Today;
    private DateTime? SelectedMonth = null;
    private DateTime PickerMonth = DateTime.Today;
    private DateTime? SelectedYear = null;
    private DateTime PickerYear = DateTime.Today;

    private bool DisabledDay(DateTime date) => date.Day == 3 || date.Day == 8 || date.Day == 20;
    private bool DisableMonth(DateTime date) => date.Month == 3 || date.Month == 8;
    private bool DisableYear(DateTime date) => date.Year == 2026 || date.Year == 2027;
}
```

### Customized calendar

<div style="border: 1px solid var(--neutral-stroke-rest); padding: 0.5rem; display: inline-block; border-radius: 4px;">
    <!-- Placeholder for customized calendar -->
    <p style="text-align: center;">Calendar with custom day template</p>
    <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px;">
        <!-- Day 5 with custom style -->
        <div style="color: red; font-weight: bold; text-align: center;">5</div>
        <!-- Other days... -->
    </div>
</div>
<p>Selected date: null</p>

```razor
<FluentCalendar DisabledDateFunc="@DisabledDate" @bind-Value="@SelectedValue">
    <DaysTemplate>
        @if (!context.IsInactive &&
            (context.Date.Day == 5 || context.Date.Day == 15))
        {
            <div style="color: red; font-weight: bold;">
                @context.DayNumber
            </div>
        }
        else
        {
            @context.DayNumber
        }
    </DaysTemplate>
</FluentCalendar>
<p>Selected date @(SelectedValue?.ToString("yyyy-MM-dd"))</p>

@code
{
    private DateTime? SelectedValue = null;

    private bool DisabledDate(DateTime date) 
    {
        return (date.Day == 3 ||
                date.Day == 8 ||
                date.Day == 20);
    }
}
```

### Selection

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
    <div>
        <label>Single</label>
        <div style="border: 1px solid var(--neutral-stroke-rest); height: 250px; border-radius: 4px;"></div>
        <p>Selected days:</p>
    </div>
    <div>
        <label>Range</label>
        <div style="border: 1px solid var(--neutral-stroke-rest); height: 250px; border-radius: 4px;"></div>
        <p>Selected days:</p>
    </div>
    <div>
        <label>Range with "SelectOneWeek"</label>
        <div style="border: 1px solid var(--neutral-stroke-rest); height: 250px; border-radius: 4px;"></div>
        <p>Selected days:</p>
    </div>
    <div>
        <label>Multiple (max 5 days)</label>
        <div style="border: 1px solid var(--neutral-stroke-rest); height: 250px; border-radius: 4px;"></div>
        <p>Selected days:</p>
    </div>
    <div>
        <label>Multiple with "Select3Days"</label>
        <div style="border: 1px solid var(--neutral-stroke-rest); height: 250px; border-radius: 4px;"></div>
        <p>Selected days:</p>
    </div>
</div>

```razor
@using Microsoft.FluentUI.AspNetCore.Components.Extensions

<FluentGrid>
    @* SelectMode: Single *@
    <FluentGridItem>
        <FluentLabel>Single</FluentLabel>
        <FluentCalendar DisabledDateFunc="@DisabledDay"
                        @bind-Value="@SelectedDay"
                        SelectMode="CalendarSelectMode.Single" />
        <p>Selected days: @SelectedDay?.ToShortDateString()</p>
    </FluentGridItem>

    @* SelectMode: Range *@
    <FluentGridItem>
        <FluentLabel>Range</FluentLabel>
        <FluentCalendar DisabledDateFunc="@DisabledDay"
                        @bind-SelectedDates="@SelectedRange"
                        SelectMode="CalendarSelectMode.Range" />
        <p>Selected days: @DisplaySelectedDays(SelectedRange)</p>
    </FluentGridItem>

    @* SelectMode: Range + SelectDatesHover *@
    <FluentGridItem>
        <FluentLabel>Range with "SelectOneWeek"</FluentLabel>
        <FluentCalendar DisabledDateFunc="@DisabledDay"
                        @bind-SelectedDates="@SelectedRangeCustomized"
                        SelectDatesHover="@SelectOneWeek"
                        SelectMode="CalendarSelectMode.Range" />
        <p>Selected days: @DisplaySelectedDays(SelectedRangeCustomized)</p>
    </FluentGridItem>

    @* SelectMode: Multiple + Validation *@
    <FluentGridItem>
        <FluentLabel>Multiple (max 5 days)</FluentLabel>
        <FluentCalendar DisabledDateFunc="@DisabledDay"
                        @bind-SelectedDates="@SelectedDays"
                        @bind-SelectedDates:after="@ValidateSelectedDays"
                        SelectMode="CalendarSelectMode.Multiple" />
        <FluentMessageBar Visible="@DisplayError" Intent="MessageIntent.Error" Style="width: 230px;">
            You can select a maximum of 5 days. Delete a day to select a new one.
        </FluentMessageBar>
        <p>Selected days: @DisplaySelectedDays(SelectedDays)</p>
    </FluentGridItem>

    @* SelectMode: Multiple + SelectDatesHover *@
    <FluentGridItem>
        <FluentLabel>Multiple with "Select3Days"</FluentLabel>
        <FluentCalendar DisabledDateFunc="@DisabledDay"
                        @bind-SelectedDates="@SelectedDaysCustomized"
                        SelectDatesHover="@Select3Days"
                        SelectMode="CalendarSelectMode.Multiple" />
        <p>Selected days: @DisplaySelectedDays(SelectedDaysCustomized)</p>
    </FluentGridItem>
</FluentGrid>

@code
{
    private DateTime? SelectedDay = null;
    private IEnumerable<DateTime> SelectedRange = new List<DateTime>();
    private IEnumerable<DateTime> SelectedRangeCustomized = new List<DateTime>();
    private IEnumerable<DateTime> SelectedDays = new List<DateTime>();
    private IEnumerable<DateTime> SelectedDaysCustomized = new List<DateTime>();
    private bool DisplayError = false;

    // Disable all days with the day number 3, 8, and 20.
    private bool DisabledDay(DateTime date) => date.Day == 3 || date.Day == 8 || date.Day == 20;

    // Display an error when the number of selected days is more than 5.
    private void ValidateSelectedDays()
    {
        if (SelectedDays.Count() > 5)
        {
            SelectedDays = SelectedDays.Except(new[] { SelectedDays.Last() });
            DisplayError = true;
        }
        else
        {
            DisplayError = false;
        }
    }

    // Always select the full week, containing the "clicked" day.
    private IEnumerable<DateTime> SelectOneWeek(DateTime date)
    {
        return new[] { date.StartOfWeek(), date.StartOfWeek().AddDays(6) };
    }

    // Always select 3 days, from the "clicked" day.
    private IEnumerable<DateTime> Select3Days(DateTime date)
    {
        return Enumerable.Range(0, 3).Select(i => date.AddDays(i));
    }

    // Display the selected days in a list.
    private RenderFragment DisplaySelectedDays(IEnumerable<DateTime> days) => builder =>
    {
        builder.OpenElement(0, "ul");
        foreach (var day in days)
        {
            builder.OpenElement(1, "li");
            builder.AddContent(2, day.ToShortDateString());
            builder.CloseElement();
        }
        builder.CloseElement();
    };
}
```

### Culture

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
    <div>
        <label>Select Culture</label>
        <div style="border: 1px solid var(--neutral-stroke-rest); padding: 8px; border-radius: 4px;">Persian (Iran) - fa-IR</div>
        <div style="border: 1px solid var(--neutral-stroke-rest); height: 250px; border-radius: 4px; margin-top: 1rem;"></div>
        <p>Selected date: null</p>
    </div>
    <div>
        <div style="border: 1px solid var(--neutral-stroke-rest); height: 250px; border-radius: 4px; margin-top: 56px;"></div>
    </div>
</div>

```razor
@using System.Globalization

<FluentGrid>
    <FluentGridItem>
        <FluentAutocomplete TOption="CultureInfo"
                            AutoComplete="off"
                            Label="Select Culture"
                            Width="250px"
                            OnOptionsSearch="OnSearch"
                            Placeholder="Select countries"
                            MaximumOptionsSearch="int.MaxValue"
                            MaximumSelectedOptions="1"
                            Virtualize="true"
                            OptionText="@(item => $"{item.DisplayName} - {item.Name}")"
                            @bind-SelectedOptions="@_selectedCultures" />

        <FluentCalendar Culture="SelectedCulture" @bind-Value="@_selectedValue">
        </FluentCalendar>
        <p>Selected date @(_selectedValue?.ToString("yyyy-MM-dd"))</p>
    </FluentGridItem>
    <FluentGridItem>
        <FluentCalendar @bind-Value="@_selectedValue" Style="margin-top: 56px"  />
    </FluentGridItem>
</FluentGrid>

@code
{
    private DateTime? _selectedValue = null;
    private IEnumerable<CultureInfo> _selectedCultures = [new CultureInfo("fa-IR")];
    private CultureInfo[] Cultures = CultureInfo.GetCultures(CultureTypes.AllCultures);
    private CultureInfo SelectedCulture => _selectedCultures.FirstOrDefault() ?? CultureInfo.CurrentCulture;

    private void OnSearch(OptionsSearchEventArgs<CultureInfo> e)
    {
        e.Items = Cultures.Where(culture =>
            culture.Name.Contains(e.Text, StringComparison.OrdinalIgnoreCase) ||
            culture.DisplayName.Contains(e.Text, StringComparison.OrdinalIgnoreCase));
    }
}
```

### ReadOnly calendar with 2-digits and using French Culture

<div style="border: 1px solid var(--neutral-stroke-rest); padding: 0.5rem; display: inline-block; border-radius: 4px;">
    <!-- Placeholder for French readonly calendar -->
    <p style="text-align: center;">août 2025</p>
    <div style="display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; text-align: center;">
        <span>lu</span><span>ma</span><span>me</span><span>je</span><span>ve</span><span>sa</span><span>di</span>
        <!-- Days here -->
        <span>01</span><span>02</span> <!-- etc. -->
    </div>
</div>

```razor
<FluentCalendar ReadOnly DayFormat="DayFormat.TwoDigit" Culture="@(System.Globalization.CultureInfo.GetCultureInfo("fr-FR"))" />
```

### Default Date Picker

<div>
    <p><label><input type="checkbox"> Double-click the text field to set Today's date</label></p>
    <div style="display: flex; flex-direction:row; gap:10px;">
        <div><label>Meeting date</label><input type="text" readonly></div>
        <div><label>Days view</label><input type="text"></div>
        <div><label>Months view</label><input type="text"></div>
        <div><label>Years view</label><input type="text"></div>
    </div>
    <p>Selected Date: 2025-08-09</p>
</div>

```razor
<p>
    <FluentCheckbox Label="Double-click the text field to set Today's date" @bind-value="@DoubleClickToToday" />
</p>
<div style="display: flex; flex-direction:row; gap:10px; ">
    <div>
        <FluentDatePicker Label="Meeting date" @bind-Value="@SelectedValue" ReadOnly />
    </div>
    <div>
        <FluentDatePicker Label="Days view" AriaLabel="To" @bind-Value="@SelectedValue" DoubleClickToDate="@DoubleClickToDate" />
    </div>
    <div>
        <FluentDatePicker Label="Months view" AriaLabel="To" @bind-Value="@SelectedValue" View="CalendarViews.Months" DoubleClickToDate="@DoubleClickToDate" />
    </div>
    <div>
        <FluentDatePicker Label="Years view" AriaLabel="To" @bind-Value="@SelectedValue" View="CalendarViews.Years" DoubleClickToDate="@DoubleClickToDate" PopupHorizontalPosition="@HorizontalPosition.Left" />
    </div>
</div>
<p>
    Selected Date: @(SelectedValue?.ToString("yyyy-MM-dd"))
</p>

@code
{
    private DateTime? SelectedValue = DateTime.Today.AddDays(-2);
    private DateTime? DoubleClickToDate = null;

    private bool DoubleClickToToday
    {
        get => DoubleClickToDate.HasValue;
        set => DoubleClickToDate = value ? DateTime.Today : null;
    }
}
```

### Default Time Picker

<div style="display: flex; flex-direction: column; gap: 1rem;">
    <div>
        <label>Meeting time:</label>
        <div style="border: 1px solid var(--neutral-stroke-rest); padding: 8px; border-radius: 4px; width: 150px;">--:-- --</div>
    </div>
    <div>
        <label>With seconds:</label>
        <div style="border: 1px solid var(--neutral-stroke-rest); padding: 8px; border-radius: 4px; width: 150px;">--:--:-- --</div>
    </div>
    <p>Selected Time:</p>
</div>

```razor
<FluentTimePicker @bind-Value="@SelectedValue" Label="Meeting time:" />
<FluentTimePicker @bind-Value="@SelectedValue" Label="With seconds:" TimeDisplay="@TimeDisplay.HourMinuteSeconds" />

<p>Selected Time: @(SelectedValue?.ToString("HH:mm:ss"))</p>

@code
{
    private DateTime? SelectedValue = null;
}
```

### DateOnly, TimeOnly bindings

By design, the `DatePicker` component uses a `Value` property of type `DateTime?`. To facilitate binding to a `DateOnly` type, you can use the `ToDateTime` and `ToDateOnly` extension methods.

If your variable is of type `Nullable<DateTime>`, you can continue to use `@bind-Value`. For other types, you must use the `Value="..."` and `ValueChanged="..."` syntax.

**Example**
```razor
<FluentDatePicker Value="@MyDate.ToDateTime()"
                  ValueChanged="@(e => MyDate = e.ToDateOnly())" />
@code {
    private DateOnly MyDate = DateOnly.FromDateTime(DateTime.Today);
}
```

### Conversion examples

<div style="display: flex; flex-direction: column; gap: 1rem;">
    <div>
        <!-- Placeholder for components -->
        <span style="display: inline-block; width: 150px; border: 1px solid var(--neutral-stroke-rest); padding: 8px; border-radius: 4px;">DatePicker</span>
        <span style="display: inline-block; width: 100px; border: 1px solid var(--neutral-stroke-rest); padding: 8px; border-radius: 4px;">TimePicker</span>
        <b>Date:</b> 2025-08-11 <b>Time:</b> 10:30
    </div>
    <!-- more rows -->
</div>

```razor
<!-- Default usage -->
<FluentDatePicker @bind-Value="@MyDate0" />
<FluentTimePicker @bind-Value="@MyTime0" />
<b>Date:</b> @(MyDate0?.ToString("yyyy-MM-dd"))
<b>Time:</b> @(MyTime0?.ToString("HH:mm"))
<br />

<!-- Using conversion methods -->
<FluentDatePicker Value="@MyDate1" ValueChanged="@(e => MyDate1 = e.ToDateTime())" />
<FluentTimePicker Value="@MyTime1" ValueChanged="@(e => MyTime1 = e.ToDateTime())" />
<b>Date:</b> @(MyDate1.ToString("yyyy-MM-dd"))
<b>Time:</b> @(MyTime1.ToString("HH:mm"))
<br />

<FluentDatePicker Value="@MyDate2.ToDateTimeNullable()" ValueChanged="@(e => MyDate2 = e.ToDateOnlyNullable())" />
<FluentTimePicker Value="@MyTime2.ToDateTimeNullable()" ValueChanged="@(e => MyTime2 = e.ToTimeOnlyNullable())" />
<b>Date:</b> @(MyDate2?.ToString("yyyy-MM-dd"))
<b>Time:</b> @(MyTime2?.ToString("HH:mm"))
<br />

<FluentDatePicker Value="@MyDate3.ToDateTime()" ValueChanged="@(e => MyDate3 = e.ToDateOnly())" />
<FluentTimePicker Value="@MyTime3.ToDateTime()" ValueChanged="@(e => MyTime3 = e.ToTimeOnly())" />
<b>Date:</b> @(MyDate3.ToString("yyyy-MM-dd"))
<b>Time:</b> @(MyTime3.ToString("HH:mm"))
<br />

@code
{
    private DateTime? MyDate0 = DateTime.Now;
    private DateTime MyDate1 = DateTime.Now;
    private DateOnly? MyDate2 = DateOnly.FromDateTime(DateTime.Now);
    private DateOnly MyDate3 = DateOnly.FromDateTime(DateTime.Now);

    private DateTime? MyTime0 = DateTime.Now;
    private DateTime MyTime1 = DateTime.Now;
    private TimeOnly? MyTime2 = TimeOnly.FromDateTime(DateTime.Now);
    private TimeOnly MyTime3 = TimeOnly.FromDateTime(DateTime.Now);
}
```

### ToTimeAgo() method
An extension method `ToTimeAgo(TimeSpan delay)` returns a string with one of these samples, depending on the delay.
*   Just now
*   25 seconds ago
*   14 minutes ago
*   9 hours ago
*   1 day ago
*   5 days ago
*   6 months ago
*   2 years ago

## Documentation

### FluentCalendar Class
Inherits from `FluentCalendarBase`.

#### Parameters
| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| **Culture** | `CultureInfo` | `CurrentCulture` | Sets the culture for localization. |
| **DayFormat** | `DayFormat?` | `Numeric` | Sets the display style for the day number. |
| **DaysTemplate** | `RenderFragment<FluentCalendarDay>` | | Defines a custom template for day cells. |
| **DisabledDateFunc** | `Func<DateTime, bool>?`| | A function to determine if a date should be disabled. |
| **PickerMonth** | `DateTime` | `Today` | The month currently displayed in the picker. Two-way bindable. |
| **ReadOnly** | `bool` | `False` | When true, the user cannot change the date. |
| **SelectDatesHover** | `Func<DateTime, IEnumerable<DateTime>>` | | A function that returns a range of dates to highlight on hover. |
| **SelectedDates** | `IEnumerable<DateTime>` | `[]` | The list of selected dates for `Range` or `Multiple` modes. |
| **SelectMode** | `CalendarSelectMode` | `Single` | Defines the selection behavior (`Single`, `Range`, `Multiple`). |
| **Value** | `DateTime?` | `null` | The single selected date. Use with `@bind-Value`. |
| **View** | `CalendarViews` | `Days` | Defines the initial view of the calendar (`Days`, `Months`, `Years`). |

#### EventCallbacks
| EventCallback | Type | Description |
| --- | --- | --- |
| **PickerMonthChanged** | `EventCallback<DateTime>` | Fired when the displayed month changes. |
| **SelectedDatesChanged** | `EventCallback<IEnumerable<DateTime>>` | Fired when the `SelectedDates` collection changes. |
| **ValueChanged** | `EventCallback<DateTime?>` | Fired when the `Value` changes. |

### FluentDatePicker Class
Inherits from `FluentCalendarBase`.

#### Parameters
| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| **Appearance** | `FluentInputAppearance` | `Outline` | Defines the visual appearance of the input. |
| **DoubleClickToDate**| `DateTime?` | `null` | A date to set when the text field is double-clicked. |
| **Label** | `string?` | | The text label for the input. |
| **Opened** | `bool` | `False` | Indicates if the calendar pop-up is open. |
| **Placeholder** | `string?` | | The placeholder text for the input field. |
| **PopupHorizontalPosition**| `HorizontalPosition?`| | Sets the horizontal position of the pop-up. |
| **Value** | `DateTime?` | `null` | The selected date. Use with `@bind-Value`. |

#### EventCallbacks
| EventCallback | Type | Description |
| --- | --- | --- |
| **OnCalendarOpen** | `EventCallback<bool>` | Raised when the calendar pop-up is opened or closed. |
| **OnDoubleClick** | `EventCallback<MouseEventArgs>`| Raised when the user double-clicks on the date picker. |

### FluentTimePicker Class
Inherits from `FluentInputBase<>`.

#### Parameters
| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| **Appearance** | `FluentInputAppearance` | `Outline` | Gets or sets the visual design of the input. |
| **Label** | `string?` | | The text label for the input. |
| **TimeDisplay** | `TimeDisplay` | `HourMinute` | Sets the time format (`HourMinute` or `HourMinuteSeconds`). |
| **Value** | `DateTime?` | `null` | The selected time. Use with `@bind-value`. |

#### EventCallbacks
| EventCallback | Type | Description |
| --- | --- | --- |
| **ValueChanged** | `EventCallback<DateTime?>` | Fired when the `Value` changes. |