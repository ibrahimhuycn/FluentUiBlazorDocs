# Number field

An implementation of a text field. The `<FluentNumberField>` supports two visual appearances, outline and filled, with the control defaulting to the outline appearance.

`<FluentNumberField>` wraps the `<fluent-number-field>` element, a web component implementation of a number input field leveraging the Fluent UI design system.

> **Note:** The underlying web component is known to have quite a few issues which won't get fixed (and can't be fixed on our side). Be careful when choosing to use this component.

Also, we'd advise in general to not use a NumberField for this kind of input. See also [this article](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number#accessibility) for reasons and alternatives.

As an alternative, you could consider using a standard `InputNumber` with styling applied.

## Examples

### Default

<div style="display: flex; flex-direction: column; gap: 1rem;">
    <div>
        <label>Integer</label>
        <input type="number" value="123" style="width: 100%; padding: 5px 8px; border-radius: 4px; border: 1px solid var(--neutral-stroke-rest);">
        <p>Example int: 123<br>Minimum value: -2147483648; Maximum value: 2147483647</p>
    </div>
    <div>
        <label>Nullable integer</label>
        <input type="number" style="width: 100%; padding: 5px 8px; border-radius: 4px; border: 1px solid var(--neutral-stroke-rest);">
        <p>Example nullable int:<br>Minimum value: -2147483648; Maximum value: 2147483647</p>
    </div>
</div>

```razor
<p>
    <FluentNumberField @bind-Value="exampleInt" Label="Integer" />
    <br />
    Example int: @exampleInt
    <br />
    Minimum value: @(int.MinValue); Maximum value: @(int.MaxValue)
</p>
<p>
    <FluentNumberField @bind-Value="exampleNullableInt" Label="Nullable integer" />
    <br />
    Example nullable int: @exampleNullableInt
    <br />
    Minimum value: @(int.MinValue); Maximum value: @(int.MaxValue)
</p>
<p>
    Same as above but bound to oninput event 
    <br />
    <FluentNumberField @bind-Value="exampleInt2"
                       Appearance="FluentInputAppearance.Filled"
                       @oninput="@(e => Int32.TryParse(e.Value?.ToString(), out exampleInt2))"
                       Label="Integer" />
    <br />
    Example int: @exampleInt2
</p>
<p>
    Nullable int bound to oninput event 
    <br />
    <FluentNumberField @bind-Value="exampleNullableInt2"
                       Appearance="FluentInputAppearance.Filled"
                       @oninput="@(e => exampleNullableInt2 = int.TryParse(e.Value?.ToString(), out int tmp) ? (int?)tmp : null)"
                       Label="Nullable integer" />
    <br />
    Example nullable int: @exampleNullableInt2
</p>

@code {
    int exampleInt { get; set; } = 123;
    private int? exampleNullableInt = null;
    private int exampleInt2 = 345;
    private int? exampleNullableInt2 = null;
}
```

### Types with constraints

<div style="display: flex; flex-direction: column; gap: 1rem;">
    <div>
        <label>Unsigned short with inherent constraints from type</label>
        <input type="number" style="width: 100%; padding: 5px 8px; border-radius: 4px; border: 1px solid var(--neutral-stroke-rest);">
        <p>Example unsigned short: 0<br>Minimum value: 0; Maximum value: 65535</p>
    </div>
    <div>
        <label>Unsigned short with inherent constraints from type and manual max</label>
        <input type="number" max="10" style="width: 100%; padding: 5px 8px; border-radius: 4px; border: 1px solid var(--neutral-stroke-rest);">
        <p>Example unsigned short: 0<br>Minimum value: 0; Maximum value: 10</p>
    </div>
    <div>
        <label>Unsigned short with inherent constraints, but Min and Max overrides.</label>
        <input type="number" min="5" max="10" style="width: 100%; padding: 5px 8px; border-radius: 4px; border: 1px solid var(--neutral-stroke-rest);">
        <p>Example unsigned short: 0<br>Minimum value: 5; Maximum value: 10</p>
    </div>
</div>

```razor
<p>
    <FluentNumberField @bind-Value="@exampleUshort1" UseTypeConstraints>Unsigned short with inherent constraints from type</FluentNumberField>
    Example unsigned short: @exampleUshort1
    <br/>
    Minimum value: @(ushort.MinValue); Maximum value: @(ushort.MaxValue)
</p>

<p>
    <FluentNumberField @bind-Value="@exampleUshort2" Max="10" UseTypeConstraints>Unsigned short with inherent constraints from type and manual max</FluentNumberField>
    Example unsigned short: @exampleUshort2
    <br/>
    Minimum value: @(ushort.MinValue); Maximum value: 10
</p>

<p>
    <FluentNumberField @bind-Value="@exampleUshort3" Min="5" Max="10" UseTypeConstraints>Unsigned short with inherent constraints, but Min and Max overrides.</FluentNumberField>
    Example unsigned short: @exampleUshort3
    <br/>
    Minimum value: 5; Maximum value: 10
</p>

@code {
    ushort exampleUshort1 { get; set; }
    ushort exampleUshort2 { get; set; }
    ushort exampleUshort3 { get; set; }
}
```

## Documentation

### FluentNumberField<TValue> Class

Inherits from `FluentInputBase<TValue>`. `TValue` can be one of the following types: `int`, `long`, `short`, `float`, `double`, `decimal`.

#### Parameters

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| **Appearance** | `FluentInputAppearance` | `Outline` | Gets or sets the visual appearance. |
| **HideStep** | `bool` | `False` | When true, the spin buttons (up/down arrows) will not be rendered. |
| **Max** | `string?` | | Gets or sets the maximum allowed value. |
| **Min** | `string?` | | Gets or sets the minimum allowed value. |
| **Step** | `string` | `"1"` | Gets or sets the amount to increase/decrease the number with. |
| **UseTypeConstraints** | `bool` | `False` | If true, the `min` and `max` values will be automatically set based on the type of `TValue`, unless an explicit value is provided. |
| **Value** | `TValue?` | | Gets or sets the value of the input. This should be used with two-way binding. |

#### Methods

| Method | Description |
| --- | --- |
| **FocusAsync()** | Sets focus to the element. |