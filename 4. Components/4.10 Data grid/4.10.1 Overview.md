# Data grid

The `<FluentDataGrid>` component is used to display tabular data. The `<FluentDataGridRow>` and `<FluentDataGridCell>` components are typically created programmatically by the parent grid but some authors may find it useful to create them manually.

> **Important**
> As of version 4.11.0, the DataGrid uses standard HTML `<table>` elements for rendering. If you have been overriding grid classes in your own code, these probably no longer work.

## Accessibility

You can use the Arrow keys to navigate through a DataGrid. When a header cell is focused, you can use the `Tab` key to select the sort or options buttons. `Enter` toggles the action, and `Ctrl+Enter` removes column sorting. `+` and `-` keys resize columns, and `Shift + R` resets column widths. `Enter` on a row cell toggles selection if a `SelectColumn` is present.

## Sorting

The DataGrid supports sorting by clicking on the column headers. The default sort direction is ascending. Clicking on the same column header again will toggle the sort direction. A sort can be removed by right-clicking on the header column.

## Resizing columns

The DataGrid supports resizing columns by dragging the column edge on any row. This can be changed to only the header row by setting `ResizeColumnOnAllRows` to `false`.

## Using the DataGrid component with EF Core

If you want to use the `FluentDataGrid` with data provided through EF Core, you need to install an additional package.

### Installation

```bash
dotnet add package Microsoft.FluentUI.AspNetCore.Components.DataGrid.EntityFrameworkAdapter
```

### Usage

In your `Program.cs` file, add the following after the `builder.Services.AddFluentUIComponents();` line:

```csharp
builder.Services.AddDataGridEntityFrameworkAdapter();
```

## Examples

See the following pages for examples and additional documentation:

*   Basics
*   Layout
*   Sorting
*   Columns
*   Advanced

## Documentation

### FluentDataGrid<TGridItem> Class

#### Parameters

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| **Items** | `IQueryable<TGridItem>` | | A queryable source of data for the grid. |
| **ItemsProvider** | `GridItemsProvider<TGridItem>` | | A callback that supplies data for the grid. |
| **ChildContent** | `RenderFragment?` | | Defines columns by adding components derived from `ColumnBase`. |
| **Virtualize** | `bool` | `False` | If true, the grid will be rendered with virtualization. |
| **ItemSize** | `float` | `32` | The expected height in pixels for each row when using virtualization. |
| **Pagination** | `PaginationState?` | | Links the grid to a `PaginationState` model for paging. |
| **ResizableColumns** | `bool` | `False` | If true, renders draggable handles to resize columns. |
| **GridTemplateColumns** | `string?` | | The value for the `grid-template-columns` CSS property. |
| **EmptyContent** | `RenderFragment?` | | Content to render when there is no data. |
| **LoadingContent** | `RenderFragment?` | | Content to render when loading data. |

#### Methods

| Method | Description |
| --- | --- |
| **RefreshDataAsync()** | Instructs the grid to re-fetch and render the current data. |
| **ShowColumnOptionsAsync(ColumnBase<TGridItem> column)** | Displays the options UI for the specified column. |
| **SortByColumnAsync(ColumnBase<TGridItem> column, SortDirection direction)** | Sorts the grid by the specified column. |

### PropertyColumn<TGridItem, TProp> Class

#### Parameters

| Parameter | Type | Description |
| --- | --- | --- |
| **Property** | `Expression<Func<TGridItem, TProp>>` | Defines the value to be displayed in this column's cells. |
| **Title** | `string?` | The title text for the column. |
| **Sortable** | `bool?` | Whether the data should be sortable by this column. |
| **Align** | `Align` | Controls the justification of header and grid cells. |
| **Format** | `string?` | A format string for the value. |
| **Width** | `string?` | The width of the column (e.g., '100px', '10%', '0.5fr'). |

### TemplateColumn<TGridItem> Class

#### Parameters

| Parameter | Type | Description |
| --- | --- | --- |
| **ChildContent** | `RenderFragment<TGridItem>` | The content to be rendered for each row in the table. |
| **Title** | `string?` | The title text for the column. |
| **SortBy** | `IGridSort<TGridItem>` | The sorting rules for the column. |

### SelectColumn<TGridItem> Class

#### Parameters

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| **SelectedItems** | `IEnumerable<TGridItem>` | | The list of selected items. |
| **SelectMode** | `DataGridSelectMode` | `Single` | The selection mode (`Single` or `Multiple`). |
| **OnSelect** | `EventCallback<(TGridItem, bool)>` | The action to be executed when a row is selected or unselected. |

### FluentPaginator Class

#### Parameters

| Parameter | Type | Description |
| --- | --- | --- |
| **State** | `PaginationState` | The associated `PaginationState`. This parameter is required. |
| **PaginationTextTemplate** | `RenderFragment?` | A template for rendering the pagination summary. |

### Refreshing data programmatically

You can call the grid's `RefreshDataAsync` method to reload the data source.

```csharp
@code {
    FluentDataGrid<MyDataType> myGrid;

    async Task HandleSomeEvent()
    {
        // We can force the grid to reload the current data
        await myGrid.RefreshDataAsync();
    }
}
```