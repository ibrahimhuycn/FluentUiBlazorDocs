# Accordion

As defined by the W3C:

An accordion is a vertically stacked set of interactive headings that each contain a title, content snippet, or thumbnail representing a section of content. The headings function as controls that enable users to reveal or hide their associated sections of content. Accordions are commonly used to reduce the need to scroll when presenting multiple sections of content on a single page.

`<FluentAccordion>` wraps the `<fluent-accordion>` element, a web component implementation of an accordion leveraging the Fluent UI design system. It uses the `<FluentAccordionItem>` component for defining the individual accordion items.

## Examples

### Accordion default example

Shows simple usage of the accordion component. You can use the `start` and `end` slots to pre- or postfix each accordion item with an icon or text.

<div style="border: 1px solid var(--neutral-stroke-rest); border-radius: 4px;">
    <div style="border-bottom: 1px solid var(--neutral-stroke-rest);">
        <h3 style="padding: 8px 12px; margin: 0; display: flex; align-items: center; gap: 8px; cursor: pointer;">
            <svg width="20" height="20" fill="currentColor"><path d="M...Z"/></svg>
            Panel one
        </h3>
        <div style="padding: 8px 12px;">Panel one content...</div>
    </div>
    <div style="border-bottom: 1px solid var(--neutral-stroke-rest);">
        <h3 style="padding: 8px 12px; margin: 0; display: flex; justify-content: space-between; align-items: center; cursor: pointer;">
            Panel two
            <div>#end#</div>
        </h3>
        <div style="padding: 8px 12px;">Panel two content...</div>
    </div>
    <div style="border-bottom: 1px solid var(--neutral-stroke-rest);">
        <h3 style="padding: 8px 12px; margin: 0; cursor: pointer;">Panel three</h3>
        <div style="padding: 8px 12px;">Panel three content</div>
    </div>
    <div>
        <h3 style="padding: 8px 12px; margin: 0; cursor: pointer;">Panel <span style="color:red">Four</span></h3>
        <div style="padding: 8px 12px;">Panel four content</div>
    </div>
</div>
<p>Last changed accordion item: , Expanded: </p>

```razor
<FluentAccordion ActiveId="@activeId" OnAccordionItemChange="HandleOnAccordionItemChange">
    <FluentAccordionItem Heading="Panel one">
        <FluentIcon Value="@(new Icons.Regular.Size20.Globe())" Color="@Color.Neutral" Slot="start" />
        Panel one content, using the 'start' slot for extra header content (in this case an icon)
    </FluentAccordionItem>
    <FluentAccordionItem Heading="Panel two">
        <div slot="end">
            #end#
        </div>
        Panel two content, using the 'end' slot for extra header content
    </FluentAccordionItem>
    <FluentAccordionItem Expanded="true" Heading="Panel three">
        Panel three content
    </FluentAccordionItem>
    <FluentAccordionItem Expanded="true">
        <HeadingTemplate>
            Panel <span style="color:red">Four</span>
        </HeadingTemplate>
        <ChildContent>
            Panel four content
        </ChildContent>
    </FluentAccordionItem>
</FluentAccordion>

<p>Last changed accordion item: @(changed?.Heading ?? "item with HeaderTemplate"), Expanded: @changed?.Expanded</p>

@code {
    string activeId = "accordion-1";
    FluentAccordionItem? changed;

    private void HandleOnAccordionItemChange(FluentAccordionItem item)
    {
        changed = item;
    }
}
```

### Accordion with single expand mode

```razor
<FluentAccordion ExpandMode="AccordionExpandMode.Single">
    <FluentAccordionItem Heading="Panel one">
        Panel one content
    </FluentAccordionItem>
    <FluentAccordionItem Heading="Panel two">
        Panel two content
    </FluentAccordionItem>
    <FluentAccordionItem Heading="Panel three">
        Panel three content
    </FluentAccordionItem>
</FluentAccordion>
```

### Control from code

<div style="border: 1px solid var(--neutral-stroke-rest); border-radius: 4px;">
    <div style="border-bottom: 1px solid var(--neutral-stroke-rest);">
        <h3 style="padding: 8px 12px; margin: 0; cursor: pointer;">Just an item (status: closed)</h3>
    </div>
</div>
<div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
    <button>Open</button>
    <button>Close</button>
    <button>Toggle</button>
</div>

```razor
<FluentAccordion>
    <FluentAccordionItem Heading="@($"Just an item (status: {(accordionOpen ? "open" : "closed")})")" @bind-Expanded="@accordionOpen">
        This accordion item can programatically be opened and closed. Use the buttons below to manipulate the state
    </FluentAccordionItem>
</FluentAccordion>

<FluentButton OnClick="OpenAccordion">Open</FluentButton>
<FluentButton OnClick="CloseAccordion">Close</FluentButton>
<FluentButton OnClick="ToggleAccordion">Toggle</FluentButton>

@code
{
    private bool accordionOpen = false;

    private void OpenAccordion() => accordionOpen = true;
    private void CloseAccordion() => accordionOpen = false;
    private void ToggleAccordion() => accordionOpen = !accordionOpen;
}
```

## Documentation

### FluentAccordionItem Class

#### Parameters

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| **ChildContent** | `RenderFragment?` | | Gets or sets the content to be rendered inside the component. |
| **Expanded** | `bool` | `False` | Gets or sets a value indicating whether the item is expanded or collapsed. |
| **Heading** | `string?` | | Gets or sets the heading of the accordion item. Use this or `HeadingTemplate`. |
| **HeadingLevel** | `string?` | | Gets or sets the level of the heading element (1-6). |
| **HeadingTemplate** | `RenderFragment?` | | Gets or sets the heading content of the accordion item. Use this or `Heading`. |
| **Owner** | `FluentAccordion` | | Gets or sets the owning `FluentAccordion`. |

#### EventCallbacks

| EventCallback | Type | Description |
| --- | --- | --- |
| **ExpandedChanged** | `EventCallback<bool>` | A callback for when the expanded state changes. |

### FluentAccordion Class

#### Parameters

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| **ActiveId** | `string?` | | Gets or sets the `Id` of the active accordion item. |
| **ChildContent** | `RenderFragment?` | | Gets or sets the content to be rendered inside the component. |
| **ExpandMode** | `AccordionExpandMode?` | `Multi` | Controls the expand mode (`Single` or `Multi`). |

#### EventCallbacks

| EventCallback | Type | Description |
| --- | --- | --- |
| **ActiveIdChanged** | `EventCallback<string>` | A callback that updates the bound `ActiveId` value. |
| **OnAccordionItemChange** | `EventCallback<FluentAccordionItem>` | A callback for when an accordion item is changed. |