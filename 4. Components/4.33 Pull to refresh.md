# PullToRefresh

The Pull-to-refresh is a touchscreen gesture. It involves touching the screen of a computing device with a finger or pressing a button on a pointing device, dragging the screen downward, and then releasing it. This action signals the application to refresh the contents of the component. Its purpose is to make refreshing immediately accessible and to save valuable screen space that would otherwise be occupied by a refresh button.

These features are mainly used on mobile devices. To maintain compatibility with the majority of desktop browsers, an emulator script is included and loaded automatically by the component.

## Examples

### Default

<div style="display: flex; flex-direction: column; gap: 5px;">
    <div>
        <!-- Switch placeholders -->
    </div>
    <div style="border: 1px solid var(--neutral-stroke-rest); border-radius: 4px; width: 100%; position: relative; overflow: hidden;">
        <div style="height: 150px; width: 100%; padding: 5px; text-align: center;">
            Content to refresh. Pull counter: 0
        </div>
    </div>
</div>

```razor
<FluentStack Orientation="Orientation.Vertical" VerticalGap="5">
    <div>
        <FluentSwitch @bind-Value="@(enabled)" CheckedMessage="Pull is enabled" UncheckedMessage="Pull is disabled" />
        <FluentSwitch @bind-Value="@direction" CheckedMessage="Pull up" UncheckedMessage="Pull down" />
    </div>
    <FluentPullToRefresh Style="border: calc(var(--stroke-width)* 1px) solid var(--neutral-stroke-rest); border-radius: calc(var(--control-corner-radius)* 1px); width: 100%;"
                         Disabled="@(!enabled)"
                         Direction="@(direction ? PullDirection.Up : PullDirection.Down)"
                         OnRefreshAsync="OnRefreshAsync">
        <div style="height: 150px; width: 100%; padding: 5px;">
            Content to refresh. Pull counter: @Counter
        </div>
    </FluentPullToRefresh>
</FluentStack>

@code {
    bool enabled = true;
    bool direction = false;
    int Counter = 0;

    async Task<bool> OnRefreshAsync()
    {
        Counter++;
        await Task.Delay(250);
        return true;
    }
}
```

### Pull down

With the default settings, the component uses icons for starting and update 'tips'. These can be replaced by using the `...Template` parameters. In this example we are using plain text templates.

```razor
<FluentPullToRefresh Direction="@PullDirection.Down"
                     OnRefreshAsync="OnRefreshAsync"
                     ShowStaticTip="false"
                     Style="height: 400px; width: 400px; ">
    <PullingTemplate>
        Pull to refresh
    </PullingTemplate>
    <ReleaseTemplate>
        Release to update
    </ReleaseTemplate>
    <CompletedTemplate>
        Update completed
    </CompletedTemplate>

    <ChildContent>
        <FluentListbox Height="300px" Items="@Enumerable.Range(1, ItemsCount).Select(i => $"Item {i}")" />
    </ChildContent>
</FluentPullToRefresh>

@code {
    int RefreshCount = 0;
    int ItemsCount = 2;

    public async Task<bool> OnRefreshAsync()
    {
        RefreshCount++;
        await Task.Delay(1000);
        ItemsCount += 3;
        return true;
    }
}```

## Documentation

### FluentPullToRefresh Class

#### Parameters

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| **ChildContent** | `RenderFragment?` | | The content to show. |
| **CompletedTemplate**| `RenderFragment` | | The content to indicate the `ChildContent` has been refreshed. |
| **Direction** | `PullDirection` | `Down` | The direction to pull the `ChildContent`. |
| **Disabled** | `bool` | `False` | If true, the pull action is disabled. |
| **DragDistance** | `int` | `32` | The distance in pixels the content needs to be pulled to initiate a refresh. |
| **LoadingTemplate** | `RenderFragment` | | The content to indicate the `ChildContent` is being refreshed. |
| **NoDataTemplate** | `RenderFragment` | | The content to indicate the `ChildContent` cannot be refreshed anymore. |
| **OnRefreshAsync** | `Func<Task<bool>>` | | A callback that returns whether there is more data available. |
| **PullingTemplate** | `RenderFragment?` | | The content to indicate the content can be refreshed. |
| **ReleaseTemplate** | `RenderFragment` | | The content to indicate the pulled content must be released to start the refresh. |
| **ShowStaticTip** | `bool` | `True` | If true, a tip is shown when the content is not being pulled. |e