# FluentTooltip Component Documentation

## Overview

The `<FluentTooltip>` component is used to provide extra information about another element when it is hovered.

`<FluentTooltip>` wraps the `<fluent-tooltip>` element, a web component implementation of a tooltip composition leveraging the Fluent UI design system.

## Setup - Using Tooltip Service Provider

We advise you to always use this service when working with tooltips so all definitions will be generated with global options and will be written at the end of the HTML page to support different z-index levels.

Also, the later described option on having a tooltip appear on a click event will only work when using the Tooltip Service Provider.

### 1. Register the Service

In the `Program.cs`, inject the Tooltip service with global options. You can also use the `Services.AddFluentUIComponents` method to register all required FluentUI services, including this one.

```csharp
builder.Services.AddScoped<ITooltipService, TooltipService>();
```

### 2. Add the Provider

At the end of your `MainLayout.razor` page, include the provider:

```razor
<FluentTooltipProvider />
```

**Important**: For the `<FluentTooltipProvider/>` to work properly, it needs interactivity! If you are using "per page" interactivity, make sure to add a `@rendermode` to either the provider itself or the component the provider is placed in.

## Usage Options

- **Tooltip without service** - Direct component usage
- **Tooltip using TooltipService** - Recommended approach with service provider

## Examples

### Default

Move your mouse over this icon to display a tooltip.

```razor
<FluentIcon Id="myFirstButton" Icon="Icons.Regular.Size24.Notepad" />

<FluentTooltip Anchor="myFirstButton" OnDismissed="OnDismiss">
    Hello World <br />
    It is a <i>small</i> tooltip.
</FluentTooltip>

@code {
    private void OnDismiss()
    {
        DemoLogger.WriteLine("Tooltip dismissed!");
    }
}
```

### Large Tooltip

Move your mouse over this icon to display a very large tooltip.

```razor
<FluentIcon Id="myLongText" Icon="Icons.Regular.Size24.Notepad" />

<FluentTooltip Anchor="myLongText"
               Delay="300"
               MaxWidth="400px"
               Position="TooltipPosition.Bottom">@content</FluentTooltip>

@code {
    string content = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, " +
                     "sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. " +
                     "Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut " +
                     "aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in " +
                     "voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint " +
                     "occaecat cupidatat non proident, sunt in culpa qui officia " +
                     "deserunt mollit anim id est laborum";
}
```

### Different Delays

Hover one of the buttons to have a tooltip appear on hover at the position mentioned.

Unlike the other tooltip examples, these contain the `HideTooltipOnCursorLeave` attribute, which hides the tooltip when the cursor leaves (i.e. not hovering) its anchor (even when the cursor hovers the tooltip itself).

```razor
<FluentStack>
    <FluentButton Id="delay1" Appearance=Appearance.Accent>Tooltip at the start</FluentButton>
    <FluentTooltip Anchor="delay1" HideTooltipOnCursorLeave="true" Position=TooltipPosition.Start Delay=100>I'm helping (very quick)!</FluentTooltip>

    <FluentButton Id="delay2" Appearance=Appearance.Accent>Tooltip at the top</FluentButton>
    <FluentTooltip Anchor="delay2" HideTooltipOnCursorLeave="true" Position=TooltipPosition.Top Delay=200>I'm helping (quick)!</FluentTooltip>

    <FluentButton Id="delay3" Appearance=Appearance.Accent>Tooltip at the end</FluentButton>
    <FluentTooltip Anchor="delay3" HideTooltipOnCursorLeave="true" Position=TooltipPosition.End Delay=600>I'm helping (slow)!</FluentTooltip>
</FluentStack>
```

### Always Visible

```razor
<FluentStack>
    <FluentButton Id="visible1"
                  Appearance="Appearance.Accent"
                  OnClick="@(e => visible = !visible)">
        Click me to toggle tooltip visibility
    </FluentButton>

    <FluentTooltip Anchor="visible1"
                   Position="TooltipPosition.End"
                   Delay="200"
                   UseTooltipService="false"
                   Visible="@visible">I'm helping!</FluentTooltip>
</FluentStack>

@code
{
    bool visible = true;
}
```

## API Documentation

### FluentTooltip Class

#### Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `Anchor` | `string` | **Required** | Gets or sets the control identifier associated with the tooltip. |
| `AutoUpdateMode` | `AutoUpdateMode?` | - | Controls when the tooltip updates its position, default is anchor which only updates when the anchor is resized. Auto will update on scroll/resize events. Corresponds to anchored-region auto-update-mode. |
| `ChildContent` | `RenderFragment?` | - | Gets or sets the content to be rendered inside the component. |
| `Delay` | `int?` | `300` | Gets or sets the delay (in milliseconds). Default is 300. |
| `HideTooltipOnCursorLeave` | `bool?` | - | Gets or sets the value indicating whether the library should close the tooltip if the cursor leaves the anchor and the tooltip. By default, the tooltip closes if the cursor leaves the anchor, but not the tooltip itself. You can configure this behavior globally using the `LibraryConfiguration.HideTooltipOnCursorLeave` property. |
| `HorizontalViewportLock` | `bool` | `false` | Gets or sets whether the horizontal viewport is locked. |
| `MaxWidth` | `string?` | - | Gets or sets the maximum width of tooltip panel. |
| `Position` | `TooltipPosition?` | - | Gets or sets the tooltip's position. See `TooltipPosition`. Don't set this if you want the tooltip to use the best position. |
| `UseTooltipService` | `bool` | `true` | Use `ITooltipService` to create the tooltip, if this service was injected. If the `FluentTooltip.ChildContent` is dynamic, set this to false. Default, true. |
| `VerticalViewportLock` | `bool` | `false` | Gets or sets whether the vertical viewport is locked. |
| `Visible` | `bool` | `false` | Gets or sets a value indicating whether the tooltip is visible. |

#### Event Callbacks

| Event | Type | Description |
|-------|------|-------------|
| `OnDismissed` | `EventCallback<EventArgs>` | Callback for when the tooltip is dismissed. |

## TooltipPosition Enum

The `TooltipPosition` enum provides the following options for tooltip positioning:

- `Top` - Position the tooltip above the anchor
- `Bottom` - Position the tooltip below the anchor  
- `Start` - Position the tooltip to the start (left in LTR, right in RTL) of the anchor
- `End` - Position the tooltip to the end (right in LTR, left in RTL) of the anchor

## AutoUpdateMode Enum

The `AutoUpdateMode` enum controls when the tooltip updates its position:

- `Anchor` - Only updates when the anchor is resized (default)
- `Auto` - Updates on scroll/resize events

## Best Practices

### Service Usage
- Always use the `ITooltipService` when possible for better z-index management
- Register the service in `Program.cs` and include `<FluentTooltipProvider />` in your layout

### Positioning
- Don't set a specific position if you want automatic best positioning
- Use viewport locking when you need to constrain tooltip positioning

### Performance
- Set `UseTooltipService="false"` only when content is dynamic
- Use appropriate delays to avoid tooltip flicker

### Accessibility
- Ensure tooltip content is meaningful and adds value
- Consider keyboard navigation users

## Notes

- **Version**: 4.12.1+dc098671
- **Powered by**: .NET 9.0.6
- **Copyright**: Â© 2025, Baaij & Voituron, All rights reserved.

## Key Features

- **Service Provider Support**: Global tooltip management with better z-index handling
- **Automatic Positioning**: Smart positioning that avoids viewport edges
- **Configurable Delays**: Customizable show/hide delays
- **Viewport Locking**: Control tooltip positioning relative to viewport
- **Rich Content**: Support for HTML content in tooltips
- **Event Handling**: Dismissal event callbacks
- **Cursor Behavior**: Configurable hide behavior on cursor leave
- **Manual Control**: Programmatic visibility control
- **Accessibility**: Screen reader and keyboard navigation support
- **Responsive**: Automatic repositioning on scroll/resize events
- **Theming**: Consistent with Fluent UI design system