# FluentWizard Component Documentation

## Overview

Wizards are a step-by-step user interface used to break down complex tasks into digestible pieces. The simplified layout allows the reader to more easily understand the scope of a given task and the actions needed to complete the task.

## Key Features

- **Flexible Step Display**: Steps can be displayed on the left (default) or top of the component
- **Visual Indicators**: Circular bubbles with check marks indicating completion status
- **Customizable Icons**: Custom icons via `IconPrevious`, `IconCurrent`, and `IconNext` properties
- **Step Numbering**: Optional step numbering with `DisplayStepNumber` property
- **Step Control**: Enable/disable steps via the `Disabled` property
- **Performance Optimization**: Content loading strategies with `DeferredLoading` property
- **Responsive Design**: Hide titles/summaries on smaller screens with `StepTitleHiddenWhen`
- **Full Customization**: Custom templates for steps and buttons via `StepTemplate` and `ButtonTemplate`
- **Form Integration**: Built-in support for form validation

## Important Notes

**Accessibility**: This FluentWizard is not yet fully compatible with accessibility standards.

**Form Validation**: To enable automatic form validation, you must use the `FluentEditForm` component instead of the standard `EditForm` component:

```razor
<FluentWizardStep>
    <FluentEditForm>
        <DataAnnotationsValidator />
    </FluentEditForm>
</FluentWizardStep>
```

## Examples

### Default

```razor
@inject IDialogService DialogService

<FluentStack VerticalAlignment="VerticalAlignment.Center">
    <FluentSwitch @bind-Value="@IsTop"
                  Style="margin: 30px;"
                  Label="Step position"
                  UncheckedMessage="Left"
                  CheckedMessage="Top" />

    WizardStepSequence:
    <FluentSelect Width="150px"
                  Items="@(Enum.GetValues<WizardStepSequence>())"
                  @bind-SelectedOption="@StepSequence" />
</FluentStack>

<FluentWizard StepperPosition="@(IsTop ? StepperPosition.Top : StepperPosition.Left)"
              StepSequence="@StepSequence"
              DisplayStepNumber="@(WizardStepStatus.Current | WizardStepStatus.Next)"
              Border="WizardBorder.Outside"
              StepTitleHiddenWhen="@GridItemHidden.XsAndDown"
              Height="300px"
              OnFinish="@OnFinishedAsync">
    <Steps>
        <FluentWizardStep Label="Intro"
                          OnChange="@OnStepChange">
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ut nisi eget dolor semper
            luctus vitae a nulla. Cras semper eros sed lacinia tincidunt. Mauris dignissim ullamcorper dolor,
            ut blandit dui ullamcorper faucibus. Interdum et malesuada fames ac ante ipsum.
        </FluentWizardStep>
        <FluentWizardStep Label="Get started"
                          Summary="Begin the tasks"
                          OnChange="@OnStepChange">
            Maecenas sed justo ac sapien venenatis ullamcorper. Sed maximus nunc non venenatis euismod.
            Fusce vel porta ex, imperdiet molestie nisl. Vestibulum eu ultricies mauris, eget aliquam quam.
        </FluentWizardStep>
        <FluentWizardStep Disabled="true"
                          Label="Disabled step"
                          Summary="This step is disabled"
                          OnChange="@OnStepChange">
            Nunc dignissim tortor eget lacus porta tristique. Nunc in posuere dui. Cras ligula ex,
            ullamcorper in gravida in, euismod vitae purus. Lorem ipsum dolor sit amet, consectetur
            adipiscing elit. Aliquam at velit leo. Suspendisse potenti. Cras dictum eu augue in laoreet.
        </FluentWizardStep>
        <FluentWizardStep Label="Set budget"
                          Summary="Identify the best price"
                          IconPrevious="@(new Icons.Filled.Size24.Star())"
                          IconCurrent="@(new Icons.Filled.Size24.StarEmphasis())"
                          IconNext="@(new Icons.Regular.Size24.Star())"
                          DisplayStepNumber="false"
                          OnChange="@OnStepChange">
            Phasellus quis augue convallis, congue velit ac, aliquam ex. In egestas porttitor massa
            aliquet porttitor. Donec bibendum faucibus urna vitae elementum. Phasellus vitae efficitur
            turpis, eget molestie ipsum.
            <FluentSelect Items="@(Enumerable.Range(10, 80).Select(i => i.ToString()))"
                          Style="min-width: 70px;"
                          Height="300px" />
        </FluentWizardStep>
        <FluentWizardStep Label="Summary"
                          OnChange="@OnStepChange">
            Ut iaculis sed magna efficitur tempor. Vestibulum est erat, imperdiet in diam ac,
            aliquam tempus sapien. Nam rutrum mi at enim mattis, non mollis diam molestie.
            Cras sodales dui libero, sit amet cursus sapien elementum ac. Nulla euismod nisi sem.
        </FluentWizardStep>
    </Steps>
</FluentWizard>

@code
{
    bool IsTop = false;
    WizardStepSequence StepSequence = WizardStepSequence.Linear;

    void OnStepChange(FluentWizardStepChangeEventArgs e)
    {
        DemoLogger.WriteLine($"Go to step {e.TargetLabel} (#{e.TargetIndex})");
    }

    async Task OnFinishedAsync()
    {
        await DialogService.ShowInfoAsync("Wizard completed");
    }
}
```

### Customized

```razor
@inject IDialogService DialogService

<style>
    #customized-wizard li[status="current"] > div {
        font-weight: bold;
    }

    #customized-wizard li[disabled] > div {
        color: var(--neutral-stroke-strong-rest);
        opacity: var(--disabled-opacity);
    }
</style>

<FluentWizard @ref="@MyWizard"
              Id="customized-wizard"
              @bind-Value="@Value"
              StepTitleHiddenWhen="@GridItemHidden.XsAndDown"
              OnFinish="OnFinish"
              Height="300px">
    <Steps>
        <FluentWizardStep OnChange="@OnStepChange">
            <StepTemplate>
                <div active="@context.Active">
                    Intro
                </div>
            </StepTemplate>
            <ChildContent>
                <FluentLabel Typo="Typography.Header">Introduction</FluentLabel>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec ut nisi eget dolor semper
                luctus vitae a nulla. Cras semper eros sed lacinia tincidunt. Mauris dignissim ullamcorper dolor,
                ut blandit dui ullamcorper faucibus. Interdum et malesuada fames ac ante ipsum.
            </ChildContent>
        </FluentWizardStep>
        <FluentWizardStep OnChange="@OnStepChange">
            <StepTemplate>
                <div active="@context.Active">
                    Get Started
                </div>
            </StepTemplate>
            <ChildContent>
                <FluentLabel Typo="Typography.Header">Get Started</FluentLabel>
                Maecenas sed justo ac sapien venenatis ullamcorper. Sed maximus nunc non venenatis euismod.
                Fusce vel porta ex, imperdiet molestie nisl. Vestibulum eu ultricies mauris, eget aliquam quam.
            </ChildContent>
        </FluentWizardStep>
        <FluentWizardStep OnChange="@OnStepChange">
            <StepTemplate>
                <div active="@context.Active">
                    Set budget
                </div>
            </StepTemplate>
            <ChildContent>
                <FluentLabel Typo="Typography.Header">Set budget</FluentLabel>
                Phasellus quis augue convallis, congue velit ac, aliquam ex. In egestas porttitor massa
                aliquet porttitor. Donec bibendum faucibus urna vitae elementum. Phasellus vitae efficitur
                turpis, eget molestie ipsum.
            </ChildContent>
        </FluentWizardStep>
        <FluentWizardStep OnChange="@OnStepChange">
            <StepTemplate>
                <div active="@context.Active">
                    Summary
                </div>
            </StepTemplate>
            <ChildContent>
                <FluentLabel Typo="Typography.Header">Summary</FluentLabel>
                Ut iaculis sed magna efficitur tempor. Vestibulum est erat, imperdiet in diam ac,
                aliquam tempus sapien. Nam rutrum mi at enim mattis, non mollis diam molestie.
                Cras sodales dui libero, sit amet cursus sapien elementum ac. Nulla euismod nisi sem.
            </ChildContent>
        </FluentWizardStep>
    </Steps>

    <ButtonTemplate>
        @{
            var index = context;
            var lastStepIndex = 3;

            <div>
                @if (index > 0)
                {
                    <FluentButton OnClick="@(() => MyWizard.GoToStepAsync(0))">Go to first page</FluentButton>
                    <FluentButton OnClick="@(() => MyWizard.GoToStepAsync(Value - 1))">Previous</FluentButton>
                }
            </div>
            <FluentSpacer />
            <div>
                @if (index != lastStepIndex)
                {
                    <FluentButton OnClick="@(() => MyWizard.GoToStepAsync(Value + 1))" Appearance="Appearance.Accent">Next</FluentButton>
                    <FluentButton OnClick="@(() => MyWizard.GoToStepAsync(lastStepIndex))" Appearance="Appearance.Accent">Go to last page</FluentButton>
                }
                else
                {
                    <FluentButton OnClick="@(() => MyWizard.FinishAsync())" Appearance="Appearance.Accent">Finish</FluentButton>
                }
            </div>
        }
    </ButtonTemplate>
</FluentWizard>

@code
{
    FluentWizard MyWizard = default!;
    int Value = 0;

    void OnStepChange(FluentWizardStepChangeEventArgs e)
    {
        DemoLogger.WriteLine($"Go to step {e.TargetLabel} (#{e.TargetIndex})");
    }

    async Task OnFinish()
    {
        DemoLogger.WriteLine($"Customized wizard finish clicked.");
        await DialogService.ShowInfoAsync("The wizard has finished.", "Finished Clicked");
    }
}
```

### Edit Form

**Note**: In order for the Wizard component to automatically validate your EditForms, you must use the `FluentEditForm` component instead of the `EditForm` component.

```razor
@using System.ComponentModel.DataAnnotations

@inherits Microsoft.AspNetCore.Components.ComponentBase

@inject IDialogService DialogService

<FluentWizard StepperPosition="StepperPosition.Left"
              StepSequence="@WizardStepSequence.Visited"
              DisplayStepNumber="@(WizardStepStatus.Current | WizardStepStatus.Next)"
              Border="WizardBorder.Outside"
              StepTitleHiddenWhen="@GridItemHidden.XsAndDown"
              Height="auto"
              Style="min-height: 300px;"
              OnFinish="@OnFinishedAsync">
    <Steps>
        <FluentWizardStep Label="Personal Info"
                          OnChange="@OnStepChange">
            <FluentEditForm Model="_formData1" FormName="personalInfo" OnValidSubmit="OnValidSubmit" OnInvalidSubmit="OnInvalidSubmit">
                <DataAnnotationsValidator />
                <FluentStack Orientation="Orientation.Vertical">
                    <FluentTextField Placeholder="First Name" @bind-Value="_formData1.FirstName" />
                    <FluentTextField Placeholder="Last Name" @bind-Value="_formData1.LastName" />
                </FluentStack>
                <FluentValidationSummary style="color:darkred" />
            </FluentEditForm>
        </FluentWizardStep>
        <FluentWizardStep Label="Address Info"
                          OnChange="@OnStepChange">
            <FluentEditForm Model="_formData2" FormName="addressInfo" OnValidSubmit="OnValidSubmit" OnInvalidSubmit="OnInvalidSubmit">
                <DataAnnotationsValidator />
                <FluentStack Orientation="Orientation.Vertical">
                    <FluentTextField Placeholder="Address Line 1" @bind-Value="_formData2.AddressLine1" />
                    <FluentTextField Placeholder="Address Line 2" @bind-Value="_formData2.AddressLine2" />
                    <FluentTextField Placeholder="City" @bind-Value="_formData2.City" />
                    <FluentTextField Placeholder="State or Province" @bind-Value="_formData2.StateOrProvince" />
                    <FluentTextField Placeholder="Country" @bind-Value="_formData2.Country" />
                    <FluentTextField Placeholder="Postal Code" @bind-Value="_formData2.PostalCode" />
                </FluentStack>
                <FluentValidationSummary style="color:darkred" />
            </FluentEditForm>
        </FluentWizardStep>
        <FluentWizardStep Label="Set budget"
                          Summary="Identify the best price"
                          IconPrevious="@(new Icons.Filled.Size24.Star())"
                          IconCurrent="@(new Icons.Filled.Size24.StarEmphasis())"
                          IconNext="@(new Icons.Regular.Size24.Star())"
                          DisplayStepNumber="false"
                          OnChange="@OnStepChange">
            Phasellus quis augue convallis, congue velit ac, aliquam ex. In egestas porttitor massa
            aliquet porttitor. Donec bibendum faucibus urna vitae elementum. Phasellus vitae efficitur
            turpis, eget molestie ipsum.
            <FluentSelect Items="@(Enumerable.Range(10, 80).Select(i => i.ToString()))"
                          Style="min-width: 70px;"
                          Height="300px" />
        </FluentWizardStep>
        <FluentWizardStep Label="Finish">
            <FluentEditForm Model="_finishFormData" FormName="finishForm" OnValidSubmit="OnValidSubmit" OnInvalidSubmit="OnInvalidSubmit">
                <DataAnnotationsValidator />
                <FluentStack Orientation="Orientation.Vertical">
                    <FluentTextField Label="Signature" Placeholder="Type your signature" @bind-Value="_finishFormData.Signature" />
                </FluentStack>
                <FluentValidationSummary style="color:darkred" />
            </FluentEditForm>
        </FluentWizardStep>
    </Steps>
</FluentWizard>

<FluentOverlay @bind-Visible=@_overlayIsVisible
               Opacity="0.4"
               Alignment="Align.Center"
               Justification="@JustifyContent.Center">
    <FluentProgressRing />
</FluentOverlay>

@code
{
    private FormData1 _formData1 = new FormData1();
    private FormData2 _formData2 = new FormData2();
    private FinishFormData _finishFormData = new FinishFormData();
    private bool _overlayIsVisible = false;

    void OnStepChange(FluentWizardStepChangeEventArgs e)
    {
        DemoLogger.WriteLine($"Go to step {e.TargetLabel} (#{e.TargetIndex})");
    }

    async Task OnFinishedAsync()
    {
        await DialogService.ShowInfoAsync("Wizard completed");
    }

    async Task OnValidSubmit()
    {
        DemoLogger.WriteLine($"OnValidSubmit called");

        _overlayIsVisible = true;
        await Task.Delay(2000);
        _overlayIsVisible = false;
    }

    void OnInvalidSubmit()
    {
        DemoLogger.WriteLine($"OnInvalidSubmit called");
    }

    private class FormData1
    {
        [Required]
        [MaxLength(3)]
        public string? FirstName { get; set; }

        [Required]
        [MinLength(10)]
        public string? LastName { get; set; }
    }

    private class FormData2
    {
        [Required]
        public string? AddressLine1 { get; set; }

        public string? AddressLine2 { get; set; }

        [Required]
        public string? City { get; set; }

        [Required]
        public string? StateOrProvince { get; set; }

        [Required]
        public string? Country { get; set; }

        [Required]
        public string? PostalCode { get; set; }
    }

    private class FinishFormData
    {
        [Required]
        [MinLength(5)]
        public string? Signature { get; set; }
    }
}
```

## API Documentation

### FluentWizard Class

#### Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `Border` | `WizardBorder` | `None` | Display a border of the Wizard. |
| `ButtonTemplate` | `RenderFragment<int>?` | - | Gets or sets the buttons section of the wizard. This configuration overrides the whole rendering of the bottom-right section of the Wizard, including the built-in buttons and thus provides a full control over it. Custom Wizard buttons do not trigger the component OnChange and OnFinish events. The OnChange event can be triggered using the `FluentWizard.GoToStepAsync(System.Int32,System.Boolean)` method from your code. |
| `DisplayStepNumber` | `WizardStepStatus` | `None` | Display a number on each step icon. Can be overridden by the step `FluentWizardStep.DisplayStepNumber` property. |
| `Height` | `string` | `400px` | Gets or sets the height of the wizard. |
| `StepperBulletSpace` | `string?` | - | Gets or sets the space between two bullets (ex. 120px). |
| `StepperPosition` | `StepperPosition` | `Left` | Gets or sets the stepper position in the wizard (Top or Left). |
| `StepperSize` | `string?` | - | Gets or sets the stepper width (if position is Left) or the stepper height (if position is Top). |
| `Steps` | `RenderFragment?` | - | Gets or sets the wizard steps. Add WizardStep tags inside this tag. |
| `StepSequence` | `WizardStepSequence` | `Linear` | Gets or sets the way to navigate in the Wizard Steps. Default is `WizardStepSequence.Linear`. |
| `StepTitleHiddenWhen` | `GridItemHidden?` | `XsAndDown` | Hide step titles and summaries on specified sizes (you can combine several values: `GridItemHidden.Sm \| GridItemHidden.Xl`). The default value is `GridItemHidden.XsAndDown` to adapt to mobile devices. |
| `Value` | `int` | `0` | Gets or sets the step index of the current step. This value is bindable. |
| `Width` | `string` | `100%` | Gets or sets the width of the wizard. |

#### Event Callbacks

| Event | Type | Description |
|-------|------|-------------|
| `OnFinish` | `EventCallback` | Triggers when the done button is clicked. |
| `ValueChanged` | `EventCallback<int>` | Triggers when the value has changed. |

#### Methods

| Method | Parameters | Return Type | Description |
|--------|------------|-------------|-------------|
| `FinishAsync` | `bool validateEditContexts` | `Task` | Optionally validate and invoke the `FluentWizard.OnFinish` handler. |
| `GoToStepAsync` | `int step, bool validateEditContexts` | `Task` | Navigate to the specified step, with or without validate the current EditContexts. |

### FluentWizardStep Class

#### Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| `ChildContent` | `RenderFragment?` | - | Gets or sets the content of the step. |
| `DeferredLoading` | `bool` | `false` | Render the Wizard Step content only when the Step is selected. |
| `Disabled` | `bool` | `false` | Gets or sets whether the step is disabled. |
| `DisplayStepNumber` | `bool?` | - | Display a number the step icon. By default, this is the `FluentWizard.DisplayStepNumber` value. |
| `FluentWizard` | `FluentWizard` | - | Reference to the parent `FluentWizardStep.FluentWizard` component. For internal use only |
| `IconCurrent` | `Icon` | - | Gets or sets the icon to display for the current/active step. By default, it is a checkmark circle. |
| `IconNext` | `Icon` | - | Gets or sets the icon to display for the future/next step. By default, it is a checkmark circle. |
| `IconPrevious` | `Icon` | - | Gets or sets the icon to display for the past/previous step. By default, it is a checkmark circle. |
| `Index` | `int` | `0` | Gets the step index. |
| `Label` | `string` | - | Gets or sets the label of the step. |
| `StepTemplate` | `RenderFragment<FluentWizardStepArgs>` | - | Gets or sets the template of the step icon. |
| `Summary` | `string` | - | Gets or sets the summary of the step, to display near the label. |

#### Event Callbacks

| Event | Type | Description |
|-------|------|-------------|
| `OnChange` | `EventCallback<FluentWizardStepChangeEventArgs>` | The OnChange event fires before the current step has changed. The EventArgs contains a field of the targeted new step and a field to cancel the build-in action. |

#### Methods

| Method | Parameters | Return Type | Description |
|--------|------------|-------------|-------------|
| `ClearEditFormAndContext` | - | `void` | Clear edit form and context |
| `RegisterEditFormAndContext` | `EditForm editForm, EditContext editContext` | `void` | Register edit form and context |
| `ValidateEditContexts` | - | `bool` | Validate edit contexts |

## Enums

### WizardStepSequence
- `Linear` - Steps must be completed in order
- `Visited` - Users can navigate to any previously visited step

### StepperPosition
- `Left` - Stepper positioned on the left side
- `Top` - Stepper positioned at the top

### WizardBorder
- `None` - No border
- `Outside` - Border around the entire wizard

### WizardStepStatus
- `None` - No status indicator
- `Current` - Show on current step
- `Next` - Show on next steps
- `Previous` - Show on previous steps

### GridItemHidden
- `XsAndDown` - Hide on extra small screens and smaller
- `SmAndDown` - Hide on small screens and smaller
- `Sm` - Hide on small screens
- `Xl` - Hide on extra large screens

## Static Properties

You can customize button labels using these static properties:

- `FluentWizard.LabelButtonPrevious`
- `FluentWizard.LabelButtonNext`
- `FluentWizard.LabelButtonDone`

## Best Practices

### Form Integration
- Always use `FluentEditForm` instead of `EditForm` for automatic validation
- Use the `validateEditContexts` parameter in navigation methods for form validation
- Handle both `OnValidSubmit` and `OnInvalidSubmit` events

### Performance
- Use `DeferredLoading="true"` for steps with heavy content
- Consider step sequence requirements when choosing `WizardStepSequence`

### Responsive Design
- Use `StepTitleHiddenWhen` to optimize for mobile devices
- Adjust `StepperPosition` based on layout requirements

### Customization
- Use `StepTemplate` for custom step indicators
- Use `ButtonTemplate` for complete navigation control
- Combine different icon states for better visual feedback

### Accessibility
- Provide meaningful labels and summaries for each step
- Ensure proper contrast for disabled states
- Test keyboard navigation thoroughly

## Notes

- **Version**: 4.12.1+dc098671
- **Powered by**: .NET 9.0.6
- **Copyright**: © 2025, Baaij & Voituron, All rights reserved.
- **Accessibility**: Not yet fully compatible with accessibility standards

## Key Features

- **Step-by-Step Navigation**: Breaks complex tasks into manageable steps
- **Flexible Positioning**: Stepper can be positioned left or top
- **Visual Progress Indicators**: Circular bubbles with completion status
- **Form Validation Integration**: Built-in support for form validation with FluentEditForm
- **Customizable Icons**: Different icons for previous, current, and next states
- **Responsive Design**: Adaptive layout for mobile devices
- **Custom Templates**: Full control over step and button rendering
- **Multiple Navigation Modes**: Linear and visited step sequences
- **Performance Optimized**: Deferred loading for better performance
- **Event Handling**: Rich event model for step changes and completion
- **Disabled Steps**: Support for conditionally disabled steps
- **Border Options**: Configurable border display
- **Size Control**: Customizable dimensions and spacing
- **Two-way Binding**: Bindable current step value